## @section Global Digma parameters
## @param digma.deployment.size [default: medium], replicas based on a given preset
## @param digma.accessToken [default: empty] Unique key youâ€™ll need to provide any IDE that connects to this Digma instance, you can choose any token you'd like
## @param digma.licenseKey license key provided by Digma
##
digma:
  deployment:
    #replicas based on a given preset
    size: medium
  accessToken: 
  licenseKey:

## @section Observability parameters
## @param observability.useLocal [default: true]
## @param observability.siteName [default: undefined]
## @param observability.environmentName [default: digma], Environments represent different deployment stages or scopes.
## @param observability.otlp.remoteEndpoint Please note this parameter, cannot be set while useLocal is true
## @param observability.otlp.samplerProbability [default: 0.1]
## @param observability.otlp.exportTraces [default: true]
## @param observability.otlp.exportMetrics [default: true]
##
observability:
  useLocal: true
  siteName: undefined
  environmentName: digma
  otlp:
    remoteEndpoint:
    samplerProbability: 0.1
    exportTraces: true
    exportMetrics: true

## @section Global parameters
## Global Docker image parameters
## Please, note that this will override the image parameters
## @param global.imagePullSecrets Global Docker registry secret names as an array
##
global:
  ## E.g.
  ## imagePullSecrets:
  ##   - myRegistryKeySecretName
  ##
  imagePullSecrets: []

## @section Common parameters

## @param kubeVersion Override Kubernetes version
##
kubeVersion: ""

## @param commonLabels Labels to add to all deployed objects
##
commonLabels: {}
## @param commonAnnotations Annotations to add to all deployed objects
##
commonAnnotations: {}

## @section CollectorWorker parameters
##
collectorWorker:
  ## @param collectorWorker.env.Sampling__Enable [default: true] Sampling Enable
  ## @param collectorWorker.env.ExtendedObservability__Enable [default: true]ExtendedObservability__Enable
  ## @param collectorWorker.env.TraceTempStorage__TraceForJaegerExpirationInMinutes [default: 10] TraceTempStorage__TraceForJaegerExpirationInMinutes
  ## @param collectorWorker.env.BlockedTrace__TraceSpansLimit [default: 3000] BlockedTrace__TraceSpansLimit
  ## @param collectorWorker.env.ThresholdOptions__RecentActivityUpdateThresholdSeconds [default: 5] ThresholdOptions__RecentActivityUpdateThresholdSeconds
  env:
    Sampling__Enable: true
    ExtendedObservability__Enable: true
    TraceTempStorage__TraceForJaegerExpirationInMinutes: 10
    BlockedTrace__TraceSpansLimit: 3000
    ThresholdOptions__RecentActivityUpdateThresholdSeconds: 5
  ## @param collectorWorker.image.registry [default: docker.io] collectorWorker image registry
  ## @param collectorWorker.image.repository [default: digmatic/digma-collector-worker] collectorWorker image repository
  ## @param collectorWorker.image.pullPolicy collectorWorker image pull policy
  ## @param collectorWorker.image.pullSecrets collectorWorker image pull secrets
  image:
    registry: docker.io
    repository: digmatic/digma-collector-worker
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param collectorWorker.replicas [default: replicas based on a given preset(.Values.digma.deployment.size)] Number of collectorWorker replicas to deploy
  ##
  replicas: "{{ index .Values.presets .Values.digma.deployment.size \"collectorWorker\" \"replicas\" }}"
  ## @skip collectorWorker.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 300Mi
      cpu: 300m
    limits: 
      memory: 600Mi
      cpu: 600m
  ## @param collectorWorker.podLabels Extra labels for collectorWorker pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param collectorWorker.podAnnotations Extra labels for collectorWorker pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param collectorWorker.nodeSelector Node labels for collectorWorker pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param collectorWorker.tolerations Tolerations for collectorWorker pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param collectorWorker.affinity Affinity for collectorWorker pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}
  ## @param collectorWorker.extraEnvVars Array with extra environment variables to add to collectorWorker
  ## e.g:
  ## extraEnvVars:
  ##   - name: FOO
  ##     value: "bar"
  ##
  extraEnvVars: []
  ## @skip collectorWorker.app
  ##
  app:
    ignoreEndpoints:
      - Route: "/health"
        RouteRegex: ""
        Method: "GET"
        Service: "*"
      - Route: "/healthcheck"
        RouteRegex: ""
        Method: "GET"
        Service: "*"
      - Route: "/metrics"
        RouteRegex: ""
        Method: "GET"
        Service: "*"
## @section otelCollector parameters
##
otelCollector:
  ## @param otelCollector.samplingPercentage telemetry data that should be sampled and sent to the backend
  samplingPercentage: 100
  ## @param otelCollector.existingConfigmap The name of an existing ConfigMap with your custom configuration
  ##
  existingConfigmap: ""
  ## @param otelCollector.existingConfigmapKey The name of the key with the config file
  ##
  existingConfigmapKey: ""
  ## @param otelCollector.image.registry [default: docker.io] otelCollector image registry
  ## @param otelCollector.image.repository [default: otel/opentelemetry-collector-contrib] otelCollector image repository
  ## @param otelCollector.image.tag [default: 0.103.0] otelCollector image tag
  ## @param otelCollector.image.pullPolicy otelCollector image pull policy
  ## @param otelCollector.image.pullSecrets otelCollector image pull secrets
  image:
    registry: docker.io
    repository: otel/opentelemetry-collector-contrib
    tag: 0.103.0
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param otelCollector.replicas Number of otelCollector replicas to deploy
  ##
  replicas: 1
  ## @skip otelCollector.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
    limits:
      cpu: 200m
      memory: 300Mi
  ## otelCollector service parameters
  ##
  service:
    ## @param otelCollector.service.type otelCollector service type
    ##
    type: ClusterIP
    ## @param otelCollector.service.annotations Additional custom annotations for otelCollector service
    ##
    annotations: {}
    ## @param otelCollector.service.ports.health health check service port
    ## @param otelCollector.service.ports.grpc otelCollector gRPC port
    ## @param otelCollector.service.ports.http otelCollector HTTP port listen to path: /v1/traces
    ##
    ports:
      health: 13133
      grpc: 4317
      http: 4318
  ## @param otelCollector.podLabels Extra labels for otelCollector pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param otelCollector.podAnnotations Extra labels for otelCollector pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param otelCollector.nodeSelector Node labels for otelCollector pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param otelCollector.tolerations Tolerations for otelCollector pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param otelCollector.affinity Affinity for otelCollector pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}  
  ## otelCollector gRPC ingress parameters
  ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/
  grpc:
    ingress:
      ## @param otelCollector.grpc.ingress.enabled Enable ingress record generation for otelCollector
      ##
      enabled: false
      ## @param otelCollector.grpc.ingress.pathType Ingress path type
      ##
      pathType: ImplementationSpecific
      ## @param otelCollector.grpc.ingress.apiVersion Force Ingress API version (automatically detected if not set)
      ##
      apiVersion: ""
      ## @param otelCollector.grpc.ingress.hostname Default host for the ingress record
      ##
      hostname: 
      ## @param otelCollector.grpc.ingress.ingressClassName IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)
      ## This is supported in Kubernetes 1.18+ and required if you have more than one IngressClass marked as the default for your cluster .
      ## ref: https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/
      ##
      ingressClassName:
      ## @param otelCollector.grpc.ingress.path The Path to otelCollector. You may need to set this to '/*' in order to use this with ALB ingress controllers.
      ##
      path: /
      ## @param otelCollector.grpc.ingress.annotations Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.
      ## For a full list of possible ingress annotations, please see
      ## ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md
      ## Use this parameter to set the required annotations for cert-manager, see
      ## ref: https://cert-manager.io/docs/usage/ingress/#supported-annotations
      ##
      ## e.g:
      ## annotations:
      ##   kubernetes.io/ingress.class: nginx
      ##   cert-manager.io/cluster-issuer: cluster-issuer-name
      ##
      annotations:
      ## @param otelCollector.grpc.ingress.extraPaths Any additional paths that may need to be added to the ingress under the main host
      ## For example: The ALB ingress controller requires a special rule for handling SSL redirection.
      ## extraPaths:
      ## - path: /*
      ##   backend:
      ##     serviceName: ssl-redirect
      ##     servicePort: use-annotation
      ##
      extraPaths: []
      ## @param otelCollector.grpc.ingress.extraRules Additional rules to be covered with this ingress record
      ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
      ## e.g:
      ## extraRules:
      ## - host: example.local
      ##     http:
      ##       path: /
      ##       backend:
      ##         service:
      ##           name: example-svc
      ##           port:
      ##             name: http
      ##
      extraRules: []
  ## otelCollector HTTP ingress parameters
  ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/
  http:
    ingress:
      ## @param otelCollector.http.ingress.enabled Enable ingress record generation for otelCollector
      ##
      enabled: false
      ## @param otelCollector.http.ingress.pathType Ingress path type
      ##
      pathType: ImplementationSpecific
      ## @param otelCollector.http.ingress.apiVersion Force Ingress API version (automatically detected if not set)
      ##
      apiVersion: ""
      ## @param otelCollector.http.ingress.hostname Default host for the ingress record
      ##
      hostname:
      ## @param otelCollector.http.ingress.ingressClassName IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)
      ## This is supported in Kubernetes 1.18+ and required if you have more than one IngressClass marked as the default for your cluster .
      ## ref: https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/
      ##
      ingressClassName:
      ## @param otelCollector.http.ingress.path The Path to otelCollector. You may need to set this to '/*' in order to use this with ALB ingress controllers.
      ##
      path: /
      ## @param otelCollector.http.ingress.annotations Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.
      ## For a full list of possible ingress annotations, please see
      ## ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md
      ## Use this parameter to set the required annotations for cert-manager, see
      ## ref: https://cert-manager.io/docs/usage/ingress/#supported-annotations
      ##
      ## e.g:
      ## annotations:
      ##   kubernetes.io/ingress.class: nginx
      ##   cert-manager.io/cluster-issuer: cluster-issuer-name
      ##
      annotations: {}
      ## @param otelCollector.http.ingress.extraPaths Any additional paths that may need to be added to the ingress under the main host
      ## For example: The ALB ingress controller requires a special rule for handling SSL redirection.
      ## extraPaths:
      ## - path: /*
      ##   backend:
      ##     serviceName: ssl-redirect
      ##     servicePort: use-annotation
      ##
      extraPaths: []
      ## @param otelCollector.http.ingress.extraRules Additional rules to be covered with this ingress record
      ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
      ## e.g:
      ## extraRules:
      ## - host: example.local
      ##     http:
      ##       path: /
      ##       backend:
      ##         service:
      ##           name: example-svc
      ##           port:
      ##             name: http
      ##
      extraRules: []
collectorApi:
  ## @param collectorApi.image.registry [default: REGISTRY_NAME] collectorApi image registry
  ## @param collectorApi.image.repository [default: REPOSITORY_NAME/prometheus] collectorApi image repository
  ## @param collectorApi.image.pullPolicy collectorApi image pull policy
  ## @param collectorApi.image.pullSecrets collectorApi image pull secrets
  image:
    registry: docker.io
    repository: digmatic/digma-collector
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param collectorApi.replicas Number of collectorApi replicas to deploy
  ##
  replicas: 1
  ## @skip collectorApi.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources:
    requests: 
      memory: 100Mi
      cpu: 200m
    limits: 
      memory: 600Mi
      cpu: 800m
  ## collectorApi service parameters
  ##
  service:
    ## @param collectorApi.service.type collectorApi service type
    ##
    type: ClusterIP
    ## @param collectorApi.service.annotations Additional custom annotations for collectorApi service
    ##
    annotations: {}
    ## @param collectorApi.service.ports.internal collectorApi internal service port
    ## @param collectorApi.service.ports.grpc collectorApi gRPC port
    ## @param collectorApi.service.ports.http collectorApi HTTP port listen to path: /v1/traces
    ##
    ports:
      internal: 5048
      grpc: 5050
      http: 5049
  ## @param collectorApi.podLabels Extra labels for collectorApi pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param collectorApi.podAnnotations Extra labels for collectorApi pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param collectorApi.nodeSelector Node labels for collectorApi pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param collectorApi.tolerations Tolerations for collectorApi pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param collectorApi.affinity Affinity for collectorApi pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}    
analyticsApi:
  ## @param analyticsApi.secured [default: true] Indicates whether the analytics API uses a secured HTTPS connection. Set to false if ingress is enabled
  ##
  secured: true
  ## @param analyticsApi.image.registry [default: docker.io] analyticsApi image registry
  ## @param analyticsApi.image.repository [default: digmatic/digma-analytics] analyticsApi image repository
  ## @param analyticsApi.image.pullPolicy analyticsApi image pull policy
  ## @param analyticsApi.image.pullSecrets analyticsApi image pull secrets
  ##
  image:
    registry: docker.io
    repository: digmatic/digma-analytics
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param analyticsApi.replicas Number of analyticsApi replicas to deploy
  ##
  replicas: 1
  ## @skip analyticsApi.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 300Mi
      cpu: 100m
    limits: 
      memory: 800Mi
      cpu: 800m
  ## analyticsApi service parameters
  ##
  service:
    ## @param analyticsApi.service.type analyticsApi service type
    ##
    type: ClusterIP
    ## @param analyticsApi.service.annotations Additional custom annotations for analyticsApi service
    ##
    annotations: {}
    ## @param analyticsApi.service.ports.http analyticsApi HTTP service port
    ##
    ports:
      http: 5051
  ## @param analyticsApi.podLabels Extra labels for analyticsApi pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param analyticsApi.podAnnotations Extra labels for analyticsApi pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param analyticsApi.nodeSelector Node labels for analyticsApi pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param analyticsApi.tolerations Tolerations for analyticsApi pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param analyticsApi.affinity Affinity for analyticsApi pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}
  ## analyticsApi ingress parameters
  ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/
  ingress:
    ## @param analyticsApi.ingress.enabled Enable ingress record generation for analyticsApi
    ##
    enabled: false
    ## @param analyticsApi.ingress.pathType Ingress path type
    ##
    pathType: ImplementationSpecific
    ## @param analyticsApi.ingress.apiVersion Force Ingress API version (automatically detected if not set)
    ##
    apiVersion: ""
    ## @param analyticsApi.ingress.hostname Default host for the ingress record
    ##
    hostname:
    ## @param analyticsApi.ingress.ingressClassName IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)
    ## This is supported in Kubernetes 1.18+ and required if you have more than one IngressClass marked as the default for your cluster .
    ## ref: https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/
    ##
    ingressClassName: ""
    ## @param analyticsApi.ingress.path The Path to analyticsApi. You may need to set this to '/*' in order to use this with ALB ingress controllers.
    ##
    path: /
    ## @param analyticsApi.ingress.annotations Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.
    ## For a full list of possible ingress annotations, please see
    ## ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md
    ## Use this parameter to set the required annotations for cert-manager, see
    ## ref: https://cert-manager.io/docs/usage/ingress/#supported-annotations
    ##
    ## e.g:
    ## annotations:
    ##   kubernetes.io/ingress.class: nginx
    ##   cert-manager.io/cluster-issuer: cluster-issuer-name
    ##
    annotations:
    ## @param analyticsApi.ingress.extraPaths Any additional paths that may need to be added to the ingress under the main host
    ## For example: The ALB ingress controller requires a special rule for handling SSL redirection.
    ## extraPaths:
    ## - path: /*
    ##   backend:
    ##     serviceName: ssl-redirect
    ##     servicePort: use-annotation
    ##
    extraPaths: []
    ## @param analyticsApi.ingress.extraRules Additional rules to be covered with this ingress record
    ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
    ## e.g:
    ## extraRules:
    ## - host: example.local
    ##     http:
    ##       path: /
    ##       backend:
    ##         service:
    ##           name: example-svc
    ##           port:
    ##             name: http
    ##
    extraRules: []
measurementAnalysis:
  ## @param measurementAnalysis.env.ThresholdOptions__UpsertEndpointThresholdSeconds [default: 5] UpsertEndpointThresholdSeconds
  ## @param measurementAnalysis.env.ThresholdOptions__UpsertSpansThresholdSeconds [default: 5] UpsertSpansThresholdSeconds
  ## @param measurementAnalysis.env.ThresholdOptions__UpsertSpanFlowMetadataThresholdSeconds [default: 5] UpsertSpanFlowMetadataThresholdSeconds
  ##
  env:
    ThresholdOptions__UpsertEndpointThresholdSeconds: 5
    ThresholdOptions__UpsertSpansThresholdSeconds: 5
    ThresholdOptions__UpsertSpanFlowMetadataThresholdSeconds: 5
  ## @param measurementAnalysis.image.registry [default: docker.io] measurementAnalysis image registry
  ## @param measurementAnalysis.image.repository [default: digmatic/digma-measurement-analysis] measurementAnalysis image repository
  ## @param measurementAnalysis.image.pullPolicy measurementAnalysis image pull policy
  ## @param measurementAnalysis.image.pullSecrets measurementAnalysis image pull secrets
  image:
    registry: docker.io
    repository: digmatic/digma-measurement-analysis
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
 
  ## @param measurementAnalysis.replicas [default: replicas based on a given preset(.Values.digma.deployment.size)] Number of analyticsApi replicas to deploy
  ##
  replicas: "{{ index .Values.presets .Values.digma.deployment.size \"measurementAnalysis\" \"replicas\" }}"
  ## @skip measurementAnalysis.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 100Mi
      cpu: 200m
    limits: 
      memory: 800Mi
      cpu: 800m
  ## @param measurementAnalysis.podLabels Extra labels for measurementAnalysis pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param measurementAnalysis.podAnnotations Extra labels for measurementAnalysis pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param measurementAnalysis.nodeSelector Node labels for measurementAnalysis pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param measurementAnalysis.tolerations Tolerations for measurementAnalysis pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param measurementAnalysis.affinity Affinity for measurementAnalysis pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}

  ## @param measurementAnalysis.extraEnvVars Array with extra environment variables to add to measurementAnalysis
  ## e.g:
  ## extraEnvVars:
  ##   - name: FOO
  ##     value: "bar"
  ##
  extraEnvVars: []
scheduler:
  ## @param scheduler.image.registry [default: docker.io] scheduler image registry
  ## @param scheduler.image.repository [default: digmatic/digma-scheduler] scheduler image repository
  ## @param scheduler.image.pullPolicy scheduler image pull policy
  ## @param scheduler.image.pullSecrets scheduler image pull secrets
  image:
    registry: docker.io
    repository: digmatic/digma-scheduler
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param scheduler.replicas Number of scheduler replicas to deploy
  ##
  replicas: 1
  ## @skip scheduler.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 300Mi
      cpu: 200m
    limits: 
      memory: 600Mi
      cpu: 500m
  ## scheduler service parameters
  ##
  service:
    ## @param scheduler.service.type scheduler service type
    ##
    type: ClusterIP
    ## @param scheduler.service.annotations Additional custom annotations for scheduler service
    ##
    annotations: {}
    ## @param scheduler.service.ports.internal scheduler internal HTTP service port
    ##
    ports:
      internal: 3053
  ## @param scheduler.podLabels Extra labels for scheduler pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param scheduler.podAnnotations Extra labels for scheduler pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param scheduler.nodeSelector Node labels for scheduler pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param scheduler.tolerations Tolerations for scheduler pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param scheduler.affinity Affinity for scheduler pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}
pipelineWorker:
  image:
    ## @param pipelineWorker.image.registry [default: docker.io] pipelineWorker image registry
    ## @param pipelineWorker.image.repository [default: digmatic/digma-pipeline-worker] pipelineWorker image repository
    ## @param pipelineWorker.image.pullPolicy pipelineWorker image pull policy
    ## @param pipelineWorker.image.pullSecrets pipelineWorker image pull secrets
    registry: docker.io
    repository: digmatic/digma-pipeline-worker
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param pipelineWorker.replicas [default: replicas based on a given preset(.Values.digma.deployment.size)] Number of pipelineWorker replicas to deploy
  ##
  replicas: "{{ index .Values.presets .Values.digma.deployment.size \"pipelineWorker\" \"replicas\" }}"
  ## @skip pipelineWorker.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 100Mi
      cpu: 50m
    limits: 
      memory: 400Mi
      cpu: 500m
  ## @param pipelineWorker.podLabels Extra labels for pipelineWorker pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param pipelineWorker.podAnnotations Extra labels for pipelineWorker pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param pipelineWorker.nodeSelector Node labels for pipelineWorker pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param pipelineWorker.tolerations Tolerations for pipelineWorker pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param pipelineWorker.affinity Affinity for pipelineWorker pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}
ui:
  ## @param ui.image.registry [default: docker.io] ui image registry
  ## @param ui.image.repository [default: digmaai/digma-ui] ui image repository
  ## @param ui.image.tag [default: 2.1.4] ui image tag
  ## @param ui.image.pullPolicy ui image pull policy
  ## @param ui.image.pullSecrets ui image pull secrets
  image:
    registry: docker.io
    repository: digmaai/digma-ui
    tag: 2.1.4
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param ui.replicas Number of ui replicas to deploy
  ##
  replicas: 1
  ## @skip ui.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 100Mi
      cpu: 100m
    limits: 
      memory: 200Mi
      cpu: 200m
  ## ui service parameters
  ##
  service:
    ## @param ui.service.type ui service type
    ##
    type: ClusterIP
    ## @param ui.service.annotations Additional custom annotations for ui service
    ##
    annotations: {}
    ## @param ui.service.ports.http ui HTTP service port
    ##
    ports:
      http: 80
  ## @param ui.podLabels Extra labels for ui pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param ui.podAnnotations Extra labels for ui pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param ui.nodeSelector Node labels for ui pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param ui.tolerations Tolerations for ui pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param ui.affinity Affinity for ui pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}  
  ## ui ingress parameters
  ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/
  ingress:
    ## @param ui.ingress.enabled Enable ingress record generation for ui
    ##
    enabled: false
    ## @param ui.ingress.pathType Ingress path type
    ##
    pathType: ImplementationSpecific
    ## @param ui.ingress.apiVersion Force Ingress API version (automatically detected if not set)
    ##
    apiVersion: ""
    ## @param ui.ingress.hostname Default host for the ingress record
    ##
    hostname:
    ## @param ui.ingress.ingressClassName IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)
    ## This is supported in Kubernetes 1.18+ and required if you have more than one IngressClass marked as the default for your cluster .
    ## ref: https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/
    ##
    ingressClassName: "alb"
    ## @param ui.ingress.path The Path to ui. You may need to set this to '/*' in order to use this with ALB ingress controllers.
    ##
    path: /
    ## @param ui.ingress.annotations Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.
    ## For a full list of possible ingress annotations, please see
    ## ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md
    ## Use this parameter to set the required annotations for cert-manager, see
    ## ref: https://cert-manager.io/docs/usage/ingress/#supported-annotations
    ##
    ## e.g:
    ## annotations:
    ##   kubernetes.io/ingress.class: nginx
    ##   cert-manager.io/cluster-issuer: cluster-issuer-name
    ##
    annotations:
    ## @param ui.ingress.extraPaths Any additional paths that may need to be added to the ingress under the main host
    ## For example: The ALB ingress controller requires a special rule for handling SSL redirection.
    ## extraPaths:
    ## - path: /*
    ##   backend:
    ##     serviceName: ssl-redirect
    ##     servicePort: use-annotation
    ##
    extraPaths: []
    ## @param ui.ingress.extraRules Additional rules to be covered with this ingress record
    ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
    ## e.g:
    ## extraRules:
    ## - host: example.local
    ##     http:
    ##       path: /
    ##       backend:
    ##         service:
    ##           name: example-svc
    ##           port:
    ##             name: http
    ##
    extraRules: []

metricsExporter:
  ## @param metricsExporter.image.registry [default: docker.io] metricsExporter image registry
  ## @param metricsExporter.image.repository [default: digmatic/k8s-metrics-exporter] metricsExporter image repository
  ## @param metricsExporter.image.tag ui image tag
  ## @param metricsExporter.image.pullPolicy metricsExporter image pull policy
  ## @param metricsExporter.image.pullSecrets metricsExporter image pull secrets
  image:
    registry: docker.io
    repository: digmatic/k8s-metrics-exporter
    tag: 0.0.10-alpha.3
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param metricsExporter.replicas Number of metricsExporter replicas to deploy
  ##
  replicas: 1
  ## @skip metricsExporter.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 512Mi
      cpu: 500m
    limits: 
      memory: 768Mi
      cpu: 750m
  ## @param metricsExporter.service.ports.http HTTP service port
  ##      
  service:
    ports:
      http: 9091
    ## @param metricsExporter.service.annotations Additional custom annotations for metricsExporter service
    ##
    annotations: {}
  ## @param metricsExporter.podLabels Extra labels for metricsExporter pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param metricsExporter.podAnnotations Extra labels for metricsExporter pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param metricsExporter.nodeSelector Node labels for metricsExporter pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param metricsExporter.tolerations Tolerations for metricsExporter pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param metricsExporter.affinity Affinity for metricsExporter pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}
  ## @param metricsExporter.serviceAccount.annotations Annotations to add to the ServiceAccount Metadata
  serviceAccount:
    annotations: {}

otelCollectorDf:
  ## @skip otelCollectorDf.fullnameOverride
  fullnameOverride: "digma-otel-collector-df" # because we need to use this name other value in file
  ## @param otelCollectorDf.image.registry [default: docker.io] otelCollectorDf image registry
  ## @param otelCollectorDf.image.repository [default: otel/opentelemetry-collector-contrib] otelCollectorDf image repository
  ## @param otelCollectorDf.image.tag [default:  0.103.0] otelCollectorDf image tag
  ## @param otelCollectorDf.image.pullPolicy otelCollectorDf image pull policy
  ## @param otelCollectorDf.image.pullSecrets otelCollectorDf image pull secrets
  ##
  image:
    registry: docker.io
    repository: otel/opentelemetry-collector-contrib
    tag: 0.103.0
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param otelCollectorDf.replicas Number of otelCollectorDf replicas to deploy
  ##
  replicas: 1
  ## @skip otelCollectorDf.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
    limits:
      cpu: 200m
      memory: 300Mi
  ## @param otelCollectorDf.service.ports.grpc gRPC service port
  ## @param otelCollectorDf.service.ports.prometheus_scraper prometheus scraper service port
  ##         
  service:
    ## @param otelCollectorDf.service.annotations Additional custom annotations for otelCollectorDf service
    ##
    annotations: {}
    ports:
      grpc: 4317
      prometheus_scraper: 8889
  ## @param otelCollectorDf.podLabels Extra labels for otelCollectorDf pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param otelCollectorDf.podAnnotations Extra labels for otelCollectorDf pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param otelCollectorDf.nodeSelector Node labels for otelCollectorDf pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param otelCollectorDf.tolerations Tolerations for otelCollectorDf pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param otelCollectorDf.affinity Affinity for otelCollectorDf pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}    
## influxdb
## ref: https://github.com/bitnami/charts/blob/main/bitnami/influxdb/values.yaml
##
influxdb:
  ## @skip influxdb.resources
  resources: 
    requests: 
      memory: 500Mi
      cpu: 500m
    limits: 
      memory: 2Gi
      cpu: 2000m
  ## @skip influxdb.auth
  auth:
    user:
      org: digma
      username: admin
      password: "12345678"
      bucket: errors
    admin:
      org: digma
      username: admin
      password: "12345678"
      token: dc61908e-05bc-411a-9fe2-e3356b8dc7c0
      bucket: errors
      retention: 4w
  ## @skip influxdb.service      
  service:
    ports:
      http: 8086
  ## @skip influxdb.persistence   
  persistence:
    enabled: true
    accessModes:
    - ReadWriteOnce
    size: 50Gi
  ## @param influxdb.podLabels Extra labels for influxdb pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param influxdb.podAnnotations Extra labels for influxdb pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param influxdb.nodeSelector Node labels for influxdb pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param influxdb.tolerations Tolerations for influxdb pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param influxdb.affinity Affinity for influxdb pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}   
## postgresql
## ref: https://github.com/bitnami/charts/blob/main/bitnami/postgresql/values.yaml
##
postgresql:
  ## @skip postgresql.enabled
  enabled: true
  ## @skip postgresql.auth
  auth:
    database: postgres
    username: postgres
    password: postgres
    enablePostgresUser: false
  ## @skip postgresql.architecture
  architecture: standalone
  ## @skip postgresql.containerPorts
  containerPorts:
    postgresql: 5432
  primary:
    ## @skip postgresql.primary.resources
    resources:
      requests: 
        memory: 1Gi
        cpu: 200m
      limits: 
        memory: 2Gi
        cpu: 1000m
    ## @skip postgresql.primary.networkPolicy
    networkPolicy:
      enabled: false
    ## @skip postgresql.primary.service
    service:
      ports:
        postgresql: 5432
    ## @skip postgresql.primary.persistence
    persistence:
      enabled: true
      accessModes:
      - ReadWriteOnce
      size: 20Gi
    ## @skip postgresql.primary.extendedConfiguration
    extendedConfiguration: |
      shared_buffers = '800MB'
      logging_collector = on
      log_directory ='log'
    ## @skip postgresql.primary.extraEnvVars
    extraEnvVars:
      - name: POSTGRESQL_MAX_CONNECTIONS
        value: "400"
    ## @param postgresql.primary.podLabels Extra labels for postgresql pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podLabels: {}
    ## @param postgresql.primary.podAnnotations Extra labels for postgresql pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podAnnotations: {}
    ## @param postgresql.primary.nodeSelector Node labels for postgresql pods assignment
    ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
    ##
    nodeSelector: {}
    ## @param postgresql.primary.tolerations Tolerations for postgresql pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    ## @param postgresql.primary.affinity Affinity for postgresql pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
    ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
    ##
    affinity: {}      
## redis
## ref: https://github.com/bitnami/charts/blob/main/bitnami/redis/values.yaml
##
redis:
  ## @skip redis.enabled
  enabled: true
  ## @skip redis.auth
  auth:
    enabled: false
  ## @skip redis.architecture
  architecture: standalone
  ## @skip redis.master.extraFlags
  ## @skip redis.master.resources
  ## @skip redis.master.persistence
  master:
    extraFlags:
        ## The maxmemory configuration directive is used in order to configure Redis(R) to use a specified
        ## amount of memory for the data set. Setting maxmemory to zero results into no memory limits
        ## see https://redis.io/topics/lru-cache for more details
        ##
        - "--maxmemory 2g"
        ## The exact behavior Redis(R) follows when the maxmemory limit is reached is configured using the
        ## maxmemory-policy configuration directive
        ## allkeys-lru: evict keys by trying to remove the less recently used (LRU) keys first, in order
        ## to make space for the new data added
        ##
        - "--maxmemory-policy allkeys-lru"
    resources:
      requests:
        memory: "100Mi"
        cpu: "50m"
      limits:
        memory: "2Gi"
        cpu: "400m"
    persistence:
      enabled: true
      accessModes:
      - ReadWriteOnce
      size: 10Gi
    ## @param redis.master.podLabels Extra labels for redis pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podLabels: {}
    ## @param redis.master.podAnnotations Extra labels for redis pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podAnnotations: {}
    ## @param redis.master.nodeSelector Node labels for redis pods assignment
    ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
    ##
    nodeSelector: {}
    ## @param redis.master.tolerations Tolerations for redis pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    ## @param redis.master.affinity Affinity for redis pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
    ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
    ##
    affinity: {}      
## jaeger
## ref: https://github.com/bitnami/charts/blob/main/bitnami/jaeger/values.yaml
##
jaeger:
  ## @param jaeger.image.registry [default: docker.io] jaeger image registry
  ## @param jaeger.image.repository [default: jaegertracing/all-in-one] jaeger image repository
  ## @param jaeger.image.tag [default:  1.61.0] jaeger image tag
  ## @param jaeger.image.pullPolicy metricsExporter jaeger pull policy
  ## @param jaeger.image.pullSecrets metricsExporter jaeger pull secrets
  image:
    registry: docker.io
    repository: jaegertracing/all-in-one
    tag: 1.61.0
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
    ##
    pullPolicy: Always
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
  ## @param jaeger.replicas Number of jaeger replicas to deploy
  ##
  replicas: 1
  ## @skip jaeger.resources Set container requests and limits for different resources like CPU or memory (essential for production workloads)
  ##
  resources: 
    requests: 
      memory: 512Mi
      cpu: 500m
    limits: 
      memory: 768Mi
      cpu: 750m
  ## jaeger service parameters
  ##
  service:
    ## @param jaeger.service.type jaeger service type
    ##
    type: ClusterIP
    ## @param jaeger.service.annotations Additional custom annotations for jaeger service
    ##
    annotations: {}
    ## @param jaeger.service.ports.http_ui jaeger UI HTTP service port
    ## @param jaeger.service.ports.grpc_internal jaeger gRPC collector internal service port
    ##
    ports: 
      http_ui: 16686
      grpc_internal: 4317
  ## @param jaeger.podLabels Extra labels for jaeger pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  ## @param jaeger.podAnnotations Extra labels for jaeger pods
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podAnnotations: {}
  ## @param jaeger.nodeSelector Node labels for jaeger pods assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}
  ## @param jaeger.tolerations Tolerations for jaeger pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param jaeger.affinity Affinity for jaeger pods assignment
  ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
  ##
  affinity: {}   
  ## jaeger ingress parameters
  ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/
  ingress:
    ## @param jaeger.ingress.enabled Enable ingress record generation for ingress
    ##
    enabled: false
    ## @param jaeger.ingress.pathType Ingress path type
    ##
    pathType: ImplementationSpecific
    ## @param jaeger.ingress.apiVersion Force Ingress API version (automatically detected if not set)
    ##
    apiVersion: ""
    ## @param jaeger.ingress.hostname Default host for the ingress record
    ##
    hostname: 
    ## @param jaeger.ingress.ingressClassName IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)
    ## This is supported in Kubernetes 1.18+ and required if you have more than one IngressClass marked as the default for your cluster .
    ## ref: https://kubernetes.io/blog/2020/04/02/improvements-to-the-ingress-api-in-kubernetes-1.18/
    ##
    ingressClassName: ""
    ## @param jaeger.ingress.path The Path to jaeger. You may need to set this to '/*' in order to use this with ALB ingress controllers.
    ##
    path: /
    ## @param jaeger.ingress.annotations Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.
    ## For a full list of possible ingress annotations, please see
    ## ref: https://github.com/kubernetes/ingress-nginx/blob/main/docs/user-guide/nginx-configuration/annotations.md
    ## Use this parameter to set the required annotations for cert-manager, see
    ## ref: https://cert-manager.io/docs/usage/ingress/#supported-annotations
    ##
    ## e.g:
    ## annotations:
    ##   kubernetes.io/ingress.class: nginx
    ##   cert-manager.io/cluster-issuer: cluster-issuer-name
    ##
    annotations:
    ## @param jaeger.ingress.extraPaths Any additional paths that may need to be added to the ingress under the main host
    ## For example: The ALB ingress controller requires a special rule for handling SSL redirection.
    ## extraPaths:
    ## - path: /*
    ##   backend:
    ##     serviceName: ssl-redirect
    ##     servicePort: use-annotation
    ##
    extraPaths: []
    ## @param jaeger.ingress.extraRules Additional rules to be covered with this ingress record
    ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
    ## e.g:
    ## extraRules:
    ## - host: example.local
    ##     http:
    ##       path: /
    ##       backend:
    ##         service:
    ##           name: example-svc
    ##           port:
    ##             name: http
    ##
    extraRules: []
  ## @skip jaeger.args
  args: []
## elasticsearch
## ref: https://github.com/bitnami/charts/blob/main/bitnami/elasticsearch/values.yaml
##
elasticsearch:
  ## @param elasticsearch.enabled Whether to deploy a elasticsearch server to use as Mastodon's search engine
  ## To use an external server set this to false and configure the externalElasticsearch parameters
  ##
  enabled: true
  ## @param elasticsearch.sysctlImage.enabled Enable kernel settings modifier image for Elasticsearch
  ##
  sysctlImage:
    enabled: true
  ## @param elasticsearch.security.enabled Enable security settings for Elasticsearch
  ## @param elasticsearch.security.existingSecret Name of an existing secret containing the elasticsearch credentials
  ## @param elasticsearch.security.tls.restEncryption Enable TLS encryption for REST API
  ##
  security:
    enabled: false
    existingSecret: ""
    tls:
      restEncryption: false
  ## Elasticsearch master-eligible node parameters
  ## @param elasticsearch.master.replicaCount Desired number of Elasticsearch master-eligible nodes
  ## @skip elasticsearch.master.masterOnly
  ## @skip elasticsearch.master.replicaCount
  ## @skip elasticsearch.master.terminationGracePeriodSeconds
  ## @skip elasticsearch.master.podSecurityContext
  ## @skip elasticsearch.master.persistence
  ## @skip elasticsearch.master.resources
  ## @skip elasticsearch.master.extraEnvVars
  ##
  master:
    masterOnly: false
    replicaCount: 1
    terminationGracePeriodSeconds: 5
    podSecurityContext:
      enabled: true
      fsGroup: 1000
    persistence:
      enabled: true
      size: 80Gi
      accessModes:
      - ReadWriteOnce
    resources: 
      requests: 
        memory: 2Gi
        cpu: 1
      limits: 
        memory: 4Gi
        cpu: 2
    extraEnvVars:
    - name: ES_JAVA_OPTS
      value: "-server -Xms1G -Xmx2G"
    ## @param elasticsearch.master.podLabels Extra labels for elasticsearch pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podLabels: {}
    ## @param elasticsearch.master.podAnnotations Extra labels for elasticsearch pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podAnnotations: {}
    ## @param elasticsearch.master.nodeSelector Node labels for elasticsearch pods assignment
    ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
    ##
    nodeSelector: {}
    ## @param elasticsearch.master.tolerations Tolerations for elasticsearch pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    ## @param elasticsearch.master.affinity Affinity for elasticsearch pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
    ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
    ##
    affinity: {}   

    
  ## Elasticsearch coordinating-only node parameters
  ## @param elasticsearch.coordinating.replicaCount Desired number of Elasticsearch coordinating-only nodes
  ##
  coordinating:
    replicaCount: 0
  ## Elasticsearch data node parameters
  ## @param elasticsearch.data.replicaCount Desired number of Elasticsearch data nodes
  ##
  data:
    replicaCount: 0
  ## Elasticsearch ingest node parameters
  ## @param elasticsearch.ingest.replicaCount Desired number of Elasticsearch ingest nodes
  ##
  ingest:
    replicaCount: 0
  ## @param elasticsearch.service.ports.restAPI Elasticsearch REST API port
  ##
  service:
    ports:
      restAPI: 9200
## grafana
## ref: https://github.com/bitnami/charts/blob/main/bitnami/grafana/values.yaml
## @skip grafana.admin
## @skip grafana.dashboardsProvider
## @skip grafana.dashboardsConfigMaps
## @skip grafana.datasources
## @skip grafana.grafana.resources
## @skip grafana.grafana.resources
##
grafana:
  admin:
    user: admin
    password: admin
  dashboardsProvider:
    enabled: true
  dashboardsConfigMaps:
  - configMapName: digma-grafana-activities-dashboards
    fileName: activities.json
  - configMapName: digma-grafana-environment-dashboards
    fileName: environment.json
  - configMapName: digma-grafana-kafka-dashboards
    fileName: kafka.json
  datasources:
    secretName: grafana-datasource
  grafana:
    resources: 
      requests: 
        memory: 512Mi
        cpu: 500m
      limits: 
        memory: 768Mi
        cpu: 750m
    ## @param grafana.grafana.podLabels Extra labels for grafana pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podLabels: {}
    ## @param grafana.grafana.podAnnotations Extra labels for grafana pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podAnnotations: {}
    ## @param grafana.grafana.nodeSelector Node labels for grafana pods assignment
    ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
    ##
    nodeSelector: {}
    ## @param grafana.grafana.tolerations Tolerations for grafana pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    ## @param grafana.grafana.affinity Affinity for grafana pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
    ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
    ##
    affinity: {}       
## prometheus
## ref: https://github.com/bitnami/charts/blob/main/bitnami/prometheus/values.yaml
## @skip prometheus.enabled
## @skip prometheus.fullnameOverride
## @skip prometheus.alertmanager
## @skip prometheus.server.existingConfigmap
## @skip prometheus.server.existingConfigmapKey
## @skip prometheus.server.service
## @skip prometheus.server.resources
## @skip prometheus.persistence
##
prometheus:
  enabled: false
  fullnameOverride: "digma-prometheus" #todo shay
  alertmanager:
    enabled: false
  server:
    existingConfigmap: "digma-prometheus-service"
    existingConfigmapKey: "prometheus.yaml"
    service:
      type: ClusterIP
      ports:
        http: 9090
    resources: 
      requests: 
        memory: 512Mi
        cpu: 500m
      limits: 
        memory: 768Mi
        cpu: 750m
    ## @param prometheus.server.podLabels Extra labels for prometheus pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podLabels: {}
    ## @param prometheus.server.podAnnotations Extra labels for prometheus pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podAnnotations: {}
    ## @param prometheus.server.nodeSelector Node labels for prometheus pods assignment
    ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
    ##
    nodeSelector: {}
    ## @param prometheus.server.tolerations Tolerations for prometheus pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    ## @param prometheus.server.affinity Affinity for prometheus pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
    ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
    ##
    affinity: {}     
  persistence:
    enabled: true
    accessModes:
    - ReadWriteOnce
    size: 20Gi
## kafka
## ref: https://github.com/bitnami/charts/blob/main/bitnami/kafka/values.yaml
## @skip kafka.kraft
## @skip kafka.controller.resources
## @skip kafka.controller.persistence
## @skip kafka.listeners
## @skip kafka.extraConfig
## @skip kafka.service
##
kafka:
  kraft:
    clusterId: h4U35I9QRnGhbgsEQAlXAw
  controller:
    resources:
      requests:
        memory: 400Mi
        cpu: 200m
      limits: 
        memory: 3Gi
        cpu: 1000m
    ## @param kafka.controller.podLabels Extra labels for kafka controller pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podLabels: {}
    ## @param kafka.controller.podAnnotations Extra labels for kafka controller pods
    ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
    ##
    podAnnotations: {}
    ## @param kafka.controller.nodeSelector Node labels for kafka controller pods assignment
    ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
    ##
    nodeSelector: {}
    ## @param kafka.controller.tolerations Tolerations for kafka controller pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
    ##
    tolerations: []
    ## @param kafka.controller.affinity Affinity for kafka controller pods assignment
    ## ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
    ## NOTE: `controller.podAffinityPreset`, `controller.podAntiAffinityPreset`, and `controller.nodeAffinityPreset` will be ignored when it's set
    ##
    affinity: {}  
    persistence:
      enabled: true
      accessModes:
      - ReadWriteOnce
      size: 80Gi
  listeners:
    client:
      protocol: PLAINTEXT
    interbroker:
      protocol: PLAINTEXT
    external:
      protocol: PLAINTEXT
    controller:
      protocol: PLAINTEXT
  extraConfig: |
    log.retention.check.interval.ms = 100000
    log.roll.ms = 500000
    log.retention.minutes = 10
  service:
    ports:
      client: 9092
      controller: 9093
## @skip debug
##
debug:
  enabled: false
  pullSecrets: []
  kafkaUi:
    image:
      registry: docker.io
      repository: provectuslabs/kafka-ui
      tag: v0.7.1
      ## Specify a imagePullPolicy
      ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
      ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
      ##
      pullPolicy: IfNotPresent
    port: 8080

  redisCommander:
    image:
      registry: docker.io
      repository: rediscommander/redis-commander
      tag: latest
      ## Specify a imagePullPolicy
      ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
      ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
      ##
      pullPolicy: IfNotPresent
    port: 8081
   
  pgadmin:
    image:
      registry: docker.io
      repository: dpage/pgadmin4
      tag: latest
      ## Specify a imagePullPolicy
      ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
      ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
      ##
      pullPolicy: IfNotPresent
    port: 8082
    env: #todo shay
    - name: PGADMIN_DEFAULT_EMAIL
      value: "admin@admin.com"
    - name: PGADMIN_DEFAULT_PASSWORD
      value: "admin"
## @skip presets
##
presets:
  small:
    collectorWorker:
      replicas: 1
    measurementAnalysis: 
      replicas: 1
    pipelineWorker: 
      replicas: 1
  medium:
    collectorWorker:
      replicas: 4
    measurementAnalysis: 
      replicas: 4
    pipelineWorker: 
      replicas: 1
  large:
    collectorWorker:
      replicas: 6
    measurementAnalysis: 
      replicas: 4
    pipelineWorker: 
      replicas: 4


    
